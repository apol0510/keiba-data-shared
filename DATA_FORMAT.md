# ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆä»•æ§˜æ›¸

**æœ€çµ‚æ›´æ–°**: 2026-02-03
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.1

---

## ğŸ¯ ç›®çš„

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€`keiba-data-shared` ãƒªãƒã‚¸ãƒˆãƒªã§ç®¡ç†ã•ã‚Œã‚‹çµæœãƒ‡ãƒ¼ã‚¿ãƒ»äºˆæƒ³ãƒ‡ãƒ¼ã‚¿ã® **çµ±ä¸€ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ** ã‚’å®šç¾©ã—ã¾ã™ã€‚

**å…¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ä¸€è²«ã—ãŸãƒ‡ãƒ¼ã‚¿ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ï¼š**
- âœ… ãƒ‡ãƒ¼ã‚¿ã®ä¸€è²«æ€§ã‚’ä¿è¨¼
- âœ… è‡ªå‹•åŒ–ãƒ•ãƒ­ãƒ¼ã®å®‰å®šæ€§å‘ä¸Š
- âœ… ãƒã‚°ã®å†ç™ºé˜²æ­¢

---

## ğŸ“‹ çµæœãƒ‡ãƒ¼ã‚¿ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆï¼ˆresultsï¼‰

### ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹

```
nankan/results/YYYY/MM/YYYY-MM-DD.json
```

**ä¾‹**: `nankan/results/2026/02/2026-02-03.json`

---

### å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼ˆãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«ï¼‰

| ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | å‹ | å¿…é ˆ | èª¬æ˜ | ä¾‹ |
|-----------|-----|------|------|-----|
| `date` | String | âœ… | é–‹å‚¬æ—¥ï¼ˆYYYY-MM-DDå½¢å¼ï¼‰ | `"2026-02-03"` |
| `venue` | String | âœ… | ç«¶é¦¬å ´å | `"å¤§äº•"`, `"å·å´"`, `"èˆ¹æ©‹"`, `"æµ¦å’Œ"` |
| `venueCode` | String | âš ï¸ æ¨å¥¨ | ç«¶é¦¬å ´ã‚³ãƒ¼ãƒ‰ | `"OI"`, `"KA"`, `"FU"`, `"UR"` |
| `races` | Array | âœ… | ãƒ¬ãƒ¼ã‚¹é…åˆ— | `[...]` |

---

### âŒ ç¦æ­¢ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼ˆå‰Šé™¤å¿…é ˆï¼‰

ä»¥ä¸‹ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯ **å¤ã„ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ** ã§ã™ã€‚ä½¿ç”¨ã—ãªã„ã§ãã ã•ã„ï¼š

| ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | ç†ç”± |
|-----------|------|
| `raceDate` | âŒ `date` ã«çµ±ä¸€ |
| `track` | âŒ `venue` ã«çµ±ä¸€ |
| `totalRaces` | âŒ `races.length` ã§å–å¾—å¯èƒ½ |
| `lastUpdated` | âŒ ä¸è¦ï¼ˆGitå±¥æ­´ã§ç®¡ç†ï¼‰ |

---

### æ­£ã—ã„ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆä¾‹

```json
{
  "date": "2026-02-03",
  "venue": "å·å´",
  "venueCode": "KA",
  "races": [
    {
      "raceNumber": 1,
      "raceName": "ãƒ—ãƒ¬ãƒ¼ãƒªãƒ¼ãƒ‰ãƒƒã‚°è³ ï¼£ï¼“ é¸å®šé¦¬",
      "distance": 900,
      "surface": "ãƒ€ãƒ¼ãƒˆ",
      "startTime": "14:45",
      "weather": "æ™´",
      "trackCondition": "è‰¯",
      "results": [
        {
          "rank": 1,
          "bracket": 5,
          "number": 6,
          "name": "ãƒŠã‚­ãƒ ã‚·ãƒ’ã‚«ãƒ«",
          "jockey": "â–³ä¸­å±±é¥äºº",
          "trainer": "ç”°é‚Šé™½ä¸€",
          "time": "56.1",
          "margin": "-",
          "lastFurlong": "38.0",
          "popularity": 1
        }
      ],
      "payouts": {
        "tansho": [
          {
            "number": 6,
            "payout": 290,
            "popularity": 1
          }
        ],
        "umatan": [
          {
            "combination": "6-7",
            "payout": 1410,
            "popularity": 5
          }
        ]
      }
    }
  ]
}
```

---

### âŒ é–“é•ã£ãŸãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆä¾‹

```json
{
  "raceDate": "2026-02-03",    âŒ date ã«å¤‰æ›´
  "track": "å·å´",              âŒ venue ã«å¤‰æ›´
  "totalRaces": 12,            âŒ å‰Šé™¤ï¼ˆä¸è¦ï¼‰
  "lastUpdated": "...",        âŒ å‰Šé™¤ï¼ˆä¸è¦ï¼‰
  "races": [...]
}
```

---

## ğŸ§ª ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³

### ãƒ­ãƒ¼ã‚«ãƒ«ã§ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ

```bash
# keiba-data-shared ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§å®Ÿè¡Œ
npm run validate
```

### CI/CDã§ã®è‡ªå‹•ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³

- âœ… GitHub Actionsã§è‡ªå‹•å®Ÿè¡Œ
- âœ… mainãƒ–ãƒ©ãƒ³ãƒã¸ã®pushæ™‚ã«ãƒã‚§ãƒƒã‚¯
- âœ… Pull Requestæ™‚ã«ã‚‚ãƒã‚§ãƒƒã‚¯

---

## ğŸ—ï¸ ç®¡ç†ç”»é¢ã§ã®å®Ÿè£…ã‚¬ã‚¤ãƒ‰

### keiba-data-shared-admin ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å¯¾å¿œ

ç®¡ç†ç”»é¢ï¼ˆ`keiba-data-shared-admin`ï¼‰ã§ãƒ¬ãƒ¼ã‚¹çµæœã‚’ä¿å­˜ã™ã‚‹éš›ã¯ã€ä»¥ä¸‹ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§å‡ºåŠ›ã—ã¦ãã ã•ã„ï¼š

```javascript
// âŒ é–“é•ã£ãŸå®Ÿè£…
const resultData = {
  raceDate: date,      // NG
  track: venue,        // NG
  totalRaces: 12,      // NG
  races: [...]
};

// âœ… æ­£ã—ã„å®Ÿè£…
const resultData = {
  date: date,          // OK: YYYY-MM-DDå½¢å¼
  venue: venue,        // OK: "å¤§äº•", "å·å´", "èˆ¹æ©‹", "æµ¦å’Œ"
  venueCode: getVenueCode(venue), // OK: "OI", "KA", "FU", "UR"
  races: [...]
};

function getVenueCode(venue) {
  const map = {
    'å¤§äº•': 'OI',
    'å·å´': 'KA',
    'èˆ¹æ©‹': 'FU',
    'æµ¦å’Œ': 'UR'
  };
  return map[venue] || 'OI';
}
```

---

## ğŸ› ï¸ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã«æœ€æ–°ãƒ‡ãƒ¼ã‚¿ãŒè¡¨ç¤ºã•ã‚Œãªã„

**åŸå› **: ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆä¸ä¸€è‡´

**ç¢ºèªæ–¹æ³•**:
```bash
npm run validate
```

**ä¿®æ­£æ–¹æ³•**:
1. `date`, `venue`, `venueCode` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’è¿½åŠ 
2. `raceDate`, `track`, `totalRaces`, `lastUpdated` ã‚’å‰Šé™¤
3. ã‚³ãƒŸãƒƒãƒˆ&ãƒ—ãƒƒã‚·ãƒ¥
4. NetlifyãŒè‡ªå‹•å†ãƒ“ãƒ«ãƒ‰ï¼ˆ2-3åˆ†ï¼‰

---

## ğŸ“Š ç«¶é¦¬å ´ã‚³ãƒ¼ãƒ‰ä¸€è¦§

| ç«¶é¦¬å ´ | venue | venueCode |
|--------|-------|-----------|
| å¤§äº•ç«¶é¦¬å ´ | `"å¤§äº•"` | `"OI"` |
| å·å´ç«¶é¦¬å ´ | `"å·å´"` | `"KA"` |
| èˆ¹æ©‹ç«¶é¦¬å ´ | `"èˆ¹æ©‹"` | `"FU"` |
| æµ¦å’Œç«¶é¦¬å ´ | `"æµ¦å’Œ"` | `"UR"` |

---

## ğŸ”„ ãƒãƒ¼ã‚¸ãƒ§ãƒ³å±¥æ­´

### v1.1 (2026-02-03)
- âœ… ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆçµ±ä¸€
- âœ… å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰æ˜ç¢ºåŒ–
- âœ… ç¦æ­¢ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å®šç¾©
- âœ… ãƒãƒªãƒ‡ãƒ¼ã‚¿ãƒ¼è¿½åŠ 
- âœ… CI/CDçµ±åˆ

### v1.0 (2026-01-23)
- åˆç‰ˆãƒªãƒªãƒ¼ã‚¹

---

## ğŸ“ ã‚µãƒãƒ¼ãƒˆ

ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã«é–¢ã™ã‚‹è³ªå•ãƒ»å•é¡Œ:
- GitHubãƒªãƒã‚¸ãƒˆãƒª: https://github.com/apol0510/keiba-data-shared
- Issues: https://github.com/apol0510/keiba-data-shared/issues

---

**ğŸš€ ãƒã‚³&ã‚¯ãƒ­ã®æœ€å¼·ã‚³ãƒ³ãƒ“ã§ã€ãƒ‡ãƒ¼ã‚¿å“è³ªã‚’å®ˆã‚‹ï¼**
